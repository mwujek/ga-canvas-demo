$(document).ready(function(){var e=$(".catalog-inner"),o=$(".catalog-wrapper");$(".box").draggable({appendTo:"body",revert:"invalid",helper:"clone",drag:function(e,o){var a=o.helper.prevObject;console.log(o.helper.prevObject),a.css("opacity",0)}}),$(".drop-zone").droppable({accept:".box",activeClass:"target-highlight",drop:function(e,o){var a=o.offset.top+"px",t=o.offset.left+"px",n=$(this).append(o.draggable);o.draggable.css({top:a,left:t,position:"fixed",opacity:1}),o.draggable.addClass("in-the-zone"),console.log("make it resizeable"),$(".drop-zone").find(".in-the-zone").resizable({aspectRatio:!0,maxHeight:300,minHeight:100})}}),$(".delete-box").click(function(){var e=$(this).parent();e.appendTo($(".scroller")),e.removeClass("in-the-zone"),console.log("remove"),e.css({top:"auto",left:"auto",position:"relative"});var o=$(".catalog-wrapper").find(".ui-resizable");o.resizable("destroy"),o.css({width:"150px",height:"auto"})}),$(".toggle-catalog").click(function(){o.toggleClass("active-catalog"),$(".drop-zone").toggleClass("active-zone")});var a=!1;$(window).keydown(function(e){var o=e.which;84===o&&(a=!0)}),$(window).keyup(function(e){a=!1}),$(".drop-zone").click(function(e){var o=e.pageX,t=e.pageY;if(a){var n=$('<span class="newText"><input type="text"><em>X</em></span>').appendTo(".drop-zone");n.css({left:o+"px",top:t+"px"}),n.draggable()}}),$(".drop-zone").delegate("em","click",function(){$(this).parent().remove()})});